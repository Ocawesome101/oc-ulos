<!DOCTYPE html>

<link rel="stylesheet" href="https://oz-craft.pickardayune.com/blog/style.css">

<html>
  <title>lsh(1)</title>
  ULOS Manual Pages - lsh(1) | <a href="../1">Back</a><br><br>
  <body>
    <span style='color:#FFF;font-weight:bold;'>NAME</span><br>&nbsp&nbsplsh - the Lisp-ish Shell<br><br><span style='color:#FFF;font-weight:bold;'>SYNOPSIS</span><br>&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>lsh</span><br><br><span style='color:#FFF;font-weight:bold;'>DESCRIPTION</span><br>&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>lsh</span> is the ULOS default shell.&nbsp&nbspIts syntax mirrors a Lisp much more closely than the Bourne shell.<br><br>&nbsp&nbspAt the core of <span style='color:#0AA;font-weight:italic;'>lsh</span> is the idea of substitution - that is, substituting the output of one program as the arguments of another.&nbsp&nbspThis is accomplished like a Lisp, with<br><br>&nbsp&nbsp&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>a</span> (<span style='color:#0AA;font-weight:italic;'>b</span> <span style='color:#FFF;font-weight:bold;'>c d</span>) <span style='color:#FFF;font-weight:bold;'>e f g</span><br><br>&nbsp&nbspwhere the output of <span style='color:#0AA;font-weight:italic;'>b</span> will be split by line and inserted into program <span style='color:#0AA;font-weight:italic;'>a</span>'s argument list.<br><br>&nbsp&nbspThis principle is used to simplify <span style='color:#0AA;font-weight:italic;'>lsh</span>'s prompt system - it reads the shell prompt from <span style='color:#FFF;font-weight:bold;'>$PS1</span>, with the default prompt being<br><br>&nbsp&nbsp&nbsp&nbsp<(get USER)@(or (get HOSTNAME) localhost): (or (match (get PWD) "([^/]+)/?$") /)><br><br>&nbsp&nbspString literals with spaces are supported between double quotes - otherwise, <span style='color:#0AA;font-weight:italic;'>lsh</span> will split tokens on whitespace.&nbsp&nbspExpressions inside <span style='color:#FFF;font-weight:bold;'>()</span> are evaluated first, recursively, with the output of each subcommand split by line and passed as an argument to the main command.&nbsp&nbspEnclosing a subcommand in square brackets (<span style='color:#FFF;font-weight:bold;'>[]</span>) will capture the exit status of the command rather than its output.<br><br>&nbsp&nbspVariable declaration is not done through any dedicated syntax, but rather with the <span style='color:#0AA;font-weight:italic;'>get</span> and <span style='color:#0AA;font-weight:italic;'>set</span> builtins.<br><br>&nbsp&nbsp&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>get</span> <span style='color:#FFF;font-weight:bold;'>KEY</span><br>&nbsp&nbsp&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>set</span> <span style='color:#FFF;font-weight:bold;'>KEY VALUE</span><br><br>&nbsp&nbspComments are preceded by a hash-mark (<span style='color:#FFF;font-weight:bold;'>#</span>) and continue until the end of the line.<br><br>&nbsp&nbsp<span style='color:#0AA;font-weight:italic;'>lsh</span> supports shebangs of up to 32 characters in the same style as the Bourne shell.<br><br><span style='color:#FFF;font-weight:bold;'>COPYRIGHT</span><br>&nbsp&nbspULOS Core Utilities copyright (c) 2021 Ocawesome101 under the DSLv2.<br><br><span style='color:#FFF;font-weight:bold;'>REPORTING BUGS</span><br>&nbsp&nbspBugs should be reported at <span style='color:#55F;font-weight:bold;'><a href='https://github.com/ocawesome101/oc-ulos/issues'>https://github.com/ocawesome101/oc-ulos/issues</a></span>.<br>
  </body>
</html>

